<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./toretto-reset.css" rel="stylesheet" />
</head>

<body style="visibility: hidden;" class="bg-black">
    
    <template id="Section">
        <div class="mv-4">
            <h2 class="text-2-bold mv">${props.title}</h2>
            <div class="mv">${props.children}</div>
        </div>
    </template>

    <template id="SubSection">
        <div class="mv-2">
            <h2 class="text-1.5-bold mv">${props.title}</h2>
            <div class="mv">${props.children}</div>
        </div>
    </template>

    <div class="bg-snow">
    <div class="container ">
        <div class="col">
            <div class="item-s">
                <div class="ph-1 pv-2">
                    <!-- Navbar > -->
                    <ul class="_ row">
                        <li class="item-a">
                            <strong>Toretto</strong>
                        </li>
                        <li class="item-s">
                            <!-- Navbar. -->
                            <nav id="navbar">
                                <div class="row gutter alignItems-center@md alignItems-baseline">
                                    <input type="checkbox" class="trigger item-s item-1 mv none^md"
                                        onchange="document.getElementById('navbar').className = this.checked ? 'open' : 'closed'" />
                                    <div class="item-s item-0 green@open none block^md block@open">
                                        <ul class="_ gutter col row^md">
                                            <li class="item-s">
                                                <a href="./docs">Docs</a>
                                            </li>
                                            <li class="item-s">
                                                <a href="./components">
                                                    Components
                                                </a>
                                            </li>
                                            <li class="item-s">
                                                <a href="./templates">
                                                    Templates
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </nav>
                        </li>
                    </ul>
                    <!-- Navbar < -->
                </div>
                <!-- Hero > -->
                <div class="align-center">
                    <div class="text-2-900 text-4^md mv-2">
                        CSS Framework For Dudes With Deadlines
                    </div>
                    <div class="cap pv-2">
                        mobile-first,
                        themeable,
                        tiny footprint,
                        no build tools required,
                        no dependencies
                    </div>
                    <div class="pv-2 silver">
                        current version <span class="bold" id="version"></span>
                    </div>
                </div>
                <!-- Hero < -->
            </div>
            <div class="auto">
                <!-- install and use-->
                <div class="row-wrap gutter">
                    <div class="item-a">
                        <div class="bg-linen text-.875 p-1 radius">
                            <div class="text-1-bold m-bottom">Install</div>
                            <div style="overflow-x: auto;">
                                <code class="mv">
                                    <!-- Optional Theme. -->
                                    <link href="https://torettocss.web.app/toretto-reset.css" rel="stylesheet">
                                    <!-- Toretto Core. -->
                                    <script src="https://torettocss.web.app/toretto-css.js" type="module"></script>
                                </code>
                            </div>
                        </div>
                    </div>
                </div>

                <Section title="Box Helpers">
                    <SubSection title="Padding">
                        <table>
                            <thead>
                                <tr>
                                    <th class="w-10">Name</th>
                                    <th class="w-20">Properties</th>
                                    <th>Examples</th>
                                </td>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>p</td>
                                    <td>padding</td>
                                    <td>class="p", class="p-1", class="p-10%"</td>
                                </tr>
                                <tr>
                                    <td>pv</td>
                                    <td>padding-top + padding-bottom</td>
                                    <td>class="pv", class="pv-1", class="pv-10%"</td>
                                </tr>
                                <tr>
                                    <td>pm</td>
                                    <td>padding</td>
                                    <td>class="p", class="p-1", class="p-10%"</td>
                                </tr>
                            </tbody>
                        </table>
                    </SubSection>
                </Section>

                <h2 class="text-2-bold m-top-4">Documentation</h2>
                <div class="bg-aliceblue p mv radius">
                    <p class="mv"><strong>How it works</strong></p>
                    <p class="mv">
                        Toretto did not ship any CSS at all (except of optional reset). Toretto observig your HTML
                        and generates CSS classes on demand.
                    </p>
                    <p class="mv">
                        ClassName Anotomy:
                    </p>
                    <p class="mv">
                        <strong>func-[pram1-...paramX][^|@size][:pseudo]</strong>
                    </p>
                    <p class="mv">
                        What does it means?
                    </p>
                    <p class="mv">
                        Toretto parses class name and tries to create CSS based on in. Examples:
                    </p>
                    <ul>
                        <li>
                            <strong>class="color-red"</strong> or <strong>class="red"</strong> — <span class="color-red">will make text red</span>
                        </li>
                        <li>
                            <strong>class="color-red:hover"</strong> — <span class="color-red:hover">will make text red
                                on hover</span>
                        </li>
                        <li>
                            <strong>class="color-red@md:hover"</strong> — <span class="color-red@md:hover">will make
                                text red on hover on screens between 50rem and 100rem</span>
                        </li>
                        <li>
                            <strong>class="color-red^md"</strong> — <span class="color-red^md">will make
                                text red on screens bigger than 50rem</span>
                        </li>
                    </ul>
                    <p class="mv">
                        When Toretto see the class name, algorythm is very plain:
                    </p>
                    <ol class="mv">
                        <li>Try to resolve it over Torettos magic: Functions and Shortcuts</li>
                        <li>If it have name-value format, like <strong>class="fontWeight-bold"</strong>, class name will
                            be resolved directly as CSS prop</li>
                        <li>If it is looks like a color it will be resolve it as a color. Example:
                            <strong>class="fuchsia"</strong></li>
                        <li>Finally Toretto will try to resolve it over props-map. Lots of CSS values can be applicable
                            to one and single property like realtive can be only applicable to the position and bold to
                            the font-weight</li>
                    </ol>
                    <p class="mv">
                        Best of all. Nevertheless on how class name was resolved it will still have responsiveness
                        modificator and pseudo modificators
                    </p>
                </div>

            </div>

            <div class="skinny">
                <!-- Footer > -->
                <div class="pv-2 text-.75">Rus Inozemtsev</div>
                <!-- Footer < -->
            </div>
        </div>
    </div>
    </div>

    <script type="module">
        import { runToretto } from './toretto-css.js'
        runToretto({
            prefix: 't'
        })
    </script>

    <script>
        const theme = {
            '*': {
                gray: [
                    /&lt;!--*.((?:(?!--&gt;).)*)/
                ]
            }
        }
        const codeNodes = document.querySelectorAll('code')
        const escape = code => {
            code = code.replace(/</g, '&lt;')
            code = code.replace(/>/g, '&gt;')
            return code
        }
        codeNodes.forEach(n => {
            let code = escape(n.innerHTML).replace(/\t/g, ' ')
            let tmp = code.trim()
            let count = code.indexOf(tmp[0]) - 1
            let pattern = `^[ ]{0,${count}}`
            let regex = new RegExp(pattern)

            code = code
                .split('\n')
                .map(line => {
                    line = line.replace(regex, '')
                    for (let color of Object.keys(theme['*'])) {
                        for (let regex of theme['*'][color]) {
                            if (regex.test(line))
                                line = `<span style="color: var(--${color}, ${color})">${line}</span>`
                        }
                    }
                    return line
                })
                .join('\n')
                .trim()
            n.innerHTML = code
        })
    </script>

    <script>
        fetch('./version.txt')
            .then(r => r.text())
            .then(v => document.getElementById('version').innerHTML = v)
    </script>
</body>

</html>